syntax = "proto3";

package examples.oneof;

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";

option go_package = "github.com/google/gnostic/examples/oneof";

message EmptyOneOf {
  oneof explicit_empty_one_of {
    google.protobuf.Empty anonymous = 1;
  }
}

// Message demonstrating oneof field usage
message OneOfMessage {
  // Identifier for the message
  string id = 1;

  // Example of oneof field - only one of these can be set
  oneof payment_method {
    string credit_card = 2;
    string bank_transfer = 3;
    string digital_wallet = 4;
  }
  
  EmptyOneOf authentication_config = 8;
}

// Service definition
service OneOfService {
  rpc CreatePayment(OneOfMessage) returns (OneOfMessage) {
    option (google.api.http) = {
      post: "/v1/payments"
      body: "*"
    };
  }
}
